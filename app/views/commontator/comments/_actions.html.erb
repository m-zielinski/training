<% # Clients of this partial must supply the following variables:
   # comment
   # user
%>

<% can_delete = comment.can_be_deleted_by?(user) %>

&nbsp;

<% if can_delete %>
  <% is_deleted = comment.is_deleted? %>
  <% del_string = is_deleted ? 'undelete' : 'delete' %>
  <% if !is_deleted %>
    <%= link_to t("commontator.comment.actions.#{del_string}"),
                commontator.polymorphic_path([del_string, comment]),
                confirm: (!is_deleted ? t('commontator.comment.actions.confirm_delete') : nil),
                method: :put,
                id: "comment_#{comment.id.to_s}_#{del_string}_link",
                class: "comment_#{del_string}_link",
                remote: true %>
  <% end %>
<% end %>
